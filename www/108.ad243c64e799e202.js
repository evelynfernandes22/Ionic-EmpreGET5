"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[108],{9349:(C,u,l)=>{l.r(u),l.d(u,{CadastroPrestadorPageModule:()=>h});var p=l(6895),s=l(433),r=l(4556),g=l(6773),c=l(7582),e=l(8256),_=l(6247);const m=[{path:"",component:(()=>{class t{constructor(i,o,a){this.apiService=i,this.alertController=o,this.navCtrl=a,this.prefixo="",this.senhaRepetida="",this.prestador={nome:"",imgUrl:null,endereco:{logradouro:"",numero:null,complemento:"",cep:"",bairro:"",cidade:"",estado:"",pais:""},regiao:"",rg:"",cpf:"",telefone:"",usuario:{email:"",senha:"",role:""},servico:{descricao:"",valor:""},disponibilidade:"",observacao:""}}ngOnInit(){this.isLoggedIn=this.apiService.readLoginStatus()}onClickCancelar(){this.navCtrl.navigateBack("/loading")}onClick(){this.validarSenhas()&&this.validarFormatoValor()&&(this.prestador.usuario.role=this.apiService.getUserRole(),this.prestador.endereco.logradouro=this.prefixo+" "+this.prestador.endereco.logradouro,this.apiService.postCadastrarPrestador(this.prestador).subscribe(i=>{console.log("CLIENTE cadastrado com sucesso!!!"),this.mostrarAlerta("Cadastro conclu\xeddo com sucesso."),this.navCtrl.navigateBack("/hello"),this.resetValoresIniciais()},i=>{console.error("Erro ao cadastrar: ",i),this.mostrarAlerta("Erro ao cadastrar. Verifique os dados e tente novamente.")}))}mostrarAlerta(i){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Alerta",message:i,buttons:["OK"]})).present()})}validarSenhas(){return this.prestador.usuario.senha.length<6?(this.mostrarAlerta("A senha deve ter pelo menos 6 caracteres."),!1):this.prestador.usuario.senha===this.senhaRepetida||(this.mostrarAlerta("As senhas n\xe3o coincidem."),!1)}validarFormatoValor(){const i=/^\d+(\.\d{1,2})?$/.test(this.prestador.servico.valor);return i||this.mostrarAlerta("O valor do servi\xe7o deve estar no formato ###.##"),i}validarFormatoRG(){const i=/^\d{1,9}$/.test(this.prestador.rg);return i||this.mostrarAlerta("O valor do RG deve ter at\xe9 9 digitos"),i}resetValoresIniciais(){this.prestador={nome:"",imgUrl:null,endereco:{logradouro:"",numero:null,complemento:"",cep:"",bairro:"",cidade:"",estado:"",pais:""},regiao:"",rg:"",cpf:"",telefone:"",usuario:{email:"",senha:"",role:""},servico:{descricao:"",valor:""},disponibilidade:"",observacao:""},this.senhaRepetida=""}onSubmit(){}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(_.s),e.Y36(r.Br),e.Y36(r.SH))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cadastro-prestador"]],decls:202,vars:22,consts:[[3,"translucent"],["color","primary"],["slot","start"],["slot","primary"],["routerLink","/editar",1,"button-editar"],["slot","end","name","create"],["scroll-y","true"],[1,"ion-justify-content-center"],["size","8"],["src","../../../../assets/images/Logo-transparente.png","alt","logo"],["color","light"],[1,"ion-padding"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["size","6"],[3,"ngModel","ngModelChange"],["value","Rua"],["value","Avenida"],["value","Alameda"],["value","Travessa"],["value","Via"],["value","Rodovia"],["value","Pra\xe7a"],["type","number","maxlength","6",3,"ngModel","ngModelChange"],[2,"width","150px"],["type","text","maxlength","2",3,"ngModel","ngModelChange"],["type","text","maxlength","3",3,"ngModel","ngModelChange"],["type","tel","placeholder","0xx-9xxxx-xxxx",3,"ngModel","ngModelChange"],["value","CENTRO"],["value","NORTE"],["value","SUL"],["value","LESTE"],["value","OESTE"],["type","email",3,"ngModel","ngModelChange"],["slot","helper"],["slot","error"],["type","password",3,"ngModel","ngModelChange"],["type","password","name","senhaRepetida",3,"ngModel","ngModelChange"],["size","5"],["size","small","fill","solid","color","primary","expand","block",3,"click"],["size","small","fill","outline","color","primary","expand","block",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),e._uU(3," Cadastro Prestador "),e.qZA(),e._UZ(4,"ion-menu-button",2),e.TgZ(5,"ion-buttons",3)(6,"ion-button",4),e._uU(7," Editar "),e._UZ(8,"ion-icon",5),e.qZA()()()(),e.TgZ(9,"ion-content",6)(10,"ion-grid")(11,"ion-row",7)(12,"ion-col",8),e._UZ(13,"ion-img",9),e.qZA()()(),e.TgZ(14,"ion-card",10)(15,"ion-card-header")(16,"ion-card-subtitle",11)(17,"b"),e._uU(18,"Preencha com os dados pessoais:"),e.qZA()()(),e.TgZ(19,"ion-card-content")(20,"ion-list")(21,"ion-grid")(22,"ion-row")(23,"ion-col")(24,"ion-item")(25,"ion-label",12),e._uU(26,"Nome completo:"),e.qZA(),e.TgZ(27,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.nome=n}),e.qZA()()()()(),e.TgZ(28,"ion-grid")(29,"ion-row")(30,"ion-col")(31,"ion-item")(32,"ion-label",12),e._uU(33,"RG:"),e.qZA(),e.TgZ(34,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.rg=n}),e.qZA()()()()(),e.TgZ(35,"ion-grid")(36,"ion-row")(37,"ion-col")(38,"ion-item")(39,"ion-label",12),e._uU(40,"CPF:"),e.qZA(),e.TgZ(41,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.cpf=n}),e.qZA()()()()(),e.TgZ(42,"ion-grid")(43,"ion-row")(44,"ion-col",14)(45,"ion-item")(46,"ion-label",12),e._uU(47,"Tipo"),e.qZA(),e.TgZ(48,"ion-select",15),e.NdJ("ngModelChange",function(n){return o.prefixo=n}),e.TgZ(49,"ion-select-option",16),e._uU(50,"Rua"),e.qZA(),e.TgZ(51,"ion-select-option",17),e._uU(52,"Avenida"),e.qZA(),e.TgZ(53,"ion-select-option",18),e._uU(54,"Alameda"),e.qZA(),e.TgZ(55,"ion-select-option",19),e._uU(56,"Travessa"),e.qZA(),e.TgZ(57,"ion-select-option",20),e._uU(58,"Via"),e.qZA(),e.TgZ(59,"ion-select-option",21),e._uU(60,"Rodovia"),e.qZA(),e.TgZ(61,"ion-select-option",22),e._uU(62,"Pra\xe7a"),e.qZA()()()(),e.TgZ(63,"ion-col")(64,"ion-item")(65,"ion-label",12),e._uU(66,"Logradouro:"),e.qZA(),e.TgZ(67,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.logradouro=n}),e.qZA()()()(),e.TgZ(68,"ion-row")(69,"ion-col")(70,"ion-item")(71,"ion-label",12),e._uU(72,"N\xfamero:"),e.qZA(),e.TgZ(73,"ion-input",23),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.numero=n}),e.qZA()()(),e.TgZ(74,"ion-col")(75,"ion-item")(76,"ion-label",12),e._uU(77,"Complemento:"),e.qZA(),e.TgZ(78,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.complemento=n}),e.qZA()()()()(),e.TgZ(79,"ion-grid")(80,"ion-row")(81,"ion-col")(82,"ion-item")(83,"ion-label",12),e._uU(84,"CEP:"),e.qZA(),e.TgZ(85,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.cep=n}),e.qZA()()(),e.TgZ(86,"ion-col")(87,"ion-item")(88,"ion-label",12),e._uU(89,"Bairro:"),e.qZA(),e.TgZ(90,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.bairro=n}),e.qZA()()()()(),e.TgZ(91,"ion-grid")(92,"ion-row")(93,"ion-col")(94,"ion-item")(95,"ion-label",12),e._uU(96,"Cidade:"),e.qZA(),e.TgZ(97,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.cidade=n}),e.qZA()()()(),e.TgZ(98,"ion-row")(99,"ion-col")(100,"div",24)(101,"ion-item")(102,"ion-label",12),e._uU(103,"Estado:"),e.qZA(),e.TgZ(104,"ion-input",25),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.estado=n}),e.qZA()()()(),e.TgZ(105,"ion-col")(106,"div",24)(107,"ion-item")(108,"ion-label",12),e._uU(109,"Pa\xeds:"),e.qZA(),e.TgZ(110,"ion-input",26),e.NdJ("ngModelChange",function(n){return o.prestador.endereco.pais=n}),e.qZA()()()()()(),e.TgZ(111,"ion-grid")(112,"ion-row")(113,"ion-col")(114,"ion-item")(115,"ion-label",12),e._uU(116,"Telefone"),e.qZA(),e.TgZ(117,"ion-input",27),e.NdJ("ngModelChange",function(n){return o.prestador.telefone=n}),e.qZA()()()()(),e.TgZ(118,"ion-grid")(119,"ion-row")(120,"ion-col")(121,"ion-item")(122,"ion-label",12),e._uU(123,"Servi\xe7o:"),e.qZA(),e.TgZ(124,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.servico.descricao=n}),e.qZA()()()()(),e.TgZ(125,"ion-grid")(126,"ion-row")(127,"ion-col")(128,"ion-item")(129,"ion-label",12),e._uU(130,"Valor (R$):"),e.qZA(),e.TgZ(131,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.servico.valor=n}),e.qZA()()()()(),e.TgZ(132,"ion-grid")(133,"ion-row")(134,"ion-col")(135,"ion-item")(136,"ion-label",12),e._uU(137,"Escreva alguma observa\xe7\xe3o:"),e.qZA(),e.TgZ(138,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.observacao=n}),e.qZA()()()()(),e.TgZ(139,"ion-grid")(140,"ion-row")(141,"ion-col")(142,"ion-item")(143,"ion-label",12),e._uU(144,"Atende Regi\xe3o:"),e.qZA(),e.TgZ(145,"ion-select",15),e.NdJ("ngModelChange",function(n){return o.prestador.regiao=n}),e.TgZ(146,"ion-select-option",28),e._uU(147,"Centro"),e.qZA(),e.TgZ(148,"ion-select-option",29),e._uU(149,"Norte"),e.qZA(),e.TgZ(150,"ion-select-option",30),e._uU(151,"Sul"),e.qZA(),e.TgZ(152,"ion-select-option",31),e._uU(153,"Leste"),e.qZA(),e.TgZ(154,"ion-select-option",32),e._uU(155,"Oeste"),e.qZA()()()()()(),e.TgZ(156,"ion-grid")(157,"ion-row")(158,"ion-col")(159,"ion-item")(160,"ion-label",12),e._uU(161,"Disponibilidade:"),e.qZA(),e.TgZ(162,"ion-input",13),e.NdJ("ngModelChange",function(n){return o.prestador.disponibilidade=n}),e.qZA()()()()(),e.TgZ(163,"ion-grid")(164,"ion-row")(165,"ion-col")(166,"ion-item")(167,"ion-label",12),e._uU(168,"Email:"),e.qZA(),e.TgZ(169,"ion-input",33),e.NdJ("ngModelChange",function(n){return o.prestador.usuario.email=n}),e.qZA(),e.TgZ(170,"ion-note",34),e._uU(171,"Entre com um e-mail v\xe1lido"),e.qZA(),e.TgZ(172,"ion-note",35),e._uU(173,"Email inv\xe1lido"),e.qZA()()()()(),e.TgZ(174,"ion-grid")(175,"ion-row")(176,"ion-col")(177,"ion-item")(178,"ion-label",12),e._uU(179,"Senha:"),e.qZA(),e.TgZ(180,"ion-input",36),e.NdJ("ngModelChange",function(n){return o.prestador.usuario.senha=n}),e.qZA(),e.TgZ(181,"ion-note",34),e._uU(182,"No m\xednimo 6 caracteres"),e.qZA(),e.TgZ(183,"ion-note",35),e._uU(184,"Senha inv\xe1lida"),e.qZA()()()()(),e.TgZ(185,"ion-grid")(186,"ion-row")(187,"ion-col")(188,"ion-item")(189,"ion-label",12),e._uU(190,"Repita a senha:"),e.qZA(),e.TgZ(191,"ion-input",37),e.NdJ("ngModelChange",function(n){return o.senhaRepetida=n}),e.qZA(),e.TgZ(192,"ion-note",35),e._uU(193,"As senhas n\xe3o coincidem"),e.qZA()()()()()()()(),e.TgZ(194,"ion-grid")(195,"ion-row",7)(196,"ion-col",38)(197,"ion-button",39),e.NdJ("click",function(){return o.onClick()}),e._uU(198,"Salvar"),e.qZA()(),e.TgZ(199,"ion-col",38)(200,"ion-button",40),e.NdJ("click",function(){return o.onClickCancelar()}),e._uU(201,"Cancelar"),e.qZA()()()()()),2&i&&(e.Q6J("translucent",!0),e.xp6(27),e.Q6J("ngModel",o.prestador.nome),e.xp6(7),e.Q6J("ngModel",o.prestador.rg),e.xp6(7),e.Q6J("ngModel",o.prestador.cpf),e.xp6(7),e.Q6J("ngModel",o.prefixo),e.xp6(19),e.Q6J("ngModel",o.prestador.endereco.logradouro),e.xp6(6),e.Q6J("ngModel",o.prestador.endereco.numero),e.xp6(5),e.Q6J("ngModel",o.prestador.endereco.complemento),e.xp6(7),e.Q6J("ngModel",o.prestador.endereco.cep),e.xp6(5),e.Q6J("ngModel",o.prestador.endereco.bairro),e.xp6(7),e.Q6J("ngModel",o.prestador.endereco.cidade),e.xp6(7),e.Q6J("ngModel",o.prestador.endereco.estado),e.xp6(6),e.Q6J("ngModel",o.prestador.endereco.pais),e.xp6(7),e.Q6J("ngModel",o.prestador.telefone),e.xp6(7),e.Q6J("ngModel",o.prestador.servico.descricao),e.xp6(7),e.Q6J("ngModel",o.prestador.servico.valor),e.xp6(7),e.Q6J("ngModel",o.prestador.observacao),e.xp6(7),e.Q6J("ngModel",o.prestador.regiao),e.xp6(17),e.Q6J("ngModel",o.prestador.disponibilidade),e.xp6(7),e.Q6J("ngModel",o.prestador.usuario.email),e.xp6(11),e.Q6J("ngModel",o.prestador.usuario.senha),e.xp6(11),e.Q6J("ngModel",o.senhaRepetida))},dependencies:[s.JJ,s.nD,s.On,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.wI,r.W2,r.jY,r.Gu,r.gu,r.Xz,r.pK,r.Ie,r.Q$,r.q_,r.fG,r.uN,r.Nd,r.t9,r.n0,r.wd,r.sr,r.as,r.QI,r.j9,r.YI,g.rH],styles:["ion-item[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:12px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(m),g.Bz]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,s.u5,r.Pc,Z]}),t})()}}]);