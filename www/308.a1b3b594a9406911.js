"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[308],{308:(x,l,a)=>{a.r(l),a.d(l,{HistoricoAgendamentosPageModule:()=>A});var d=a(6895),u=a(433),o=a(4556),g=a(6773),e=a(8256),p=a(6247),h=a(9426);let P=(()=>{class n{constructor(){this.pageChange=new e.vpe,this.pages=[],this.generatePages()}ngOnInit(){}generatePages(){this.pages=Array.from({length:this.totalPages},(t,i)=>i)}nextPage(){this.currentPage<this.totalPages-1&&this.pageChange.emit(this.currentPage+1)}prevPage(){this.currentPage>0&&this.pageChange.emit(this.currentPage-1)}goToFirstPage(){this.pageChange.emit(0)}goToLastPage(){this.pageChange.emit(this.totalPages-1)}goToPage(t){this.pageChange.emit(t)}goToSelectedPage(){this.pageChange.emit(this.selectedPage)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-paginacao"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},decls:14,vars:6,consts:[["slot","start"],[3,"disabled","click"],["name","chevron-back"],["name","arrow-back"],["slot","end"],["name","arrow-forward"],["name","chevron-forward"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-footer")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return i.goToFirstPage()}),e._UZ(4,"ion-icon",2),e.qZA(),e.TgZ(5,"ion-button",1),e.NdJ("click",function(){return i.prevPage()}),e._UZ(6,"ion-icon",3),e.qZA()(),e.TgZ(7,"ion-title"),e._uU(8),e.qZA(),e.TgZ(9,"ion-buttons",4)(10,"ion-button",1),e.NdJ("click",function(){return i.nextPage()}),e._UZ(11,"ion-icon",5),e.qZA(),e.TgZ(12,"ion-button",1),e.NdJ("click",function(){return i.goToLastPage()}),e._UZ(13,"ion-icon",6),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("disabled",0===i.currentPage),e.xp6(2),e.Q6J("disabled",0===i.currentPage),e.xp6(3),e.AsE("",i.currentPage+1,"/",i.totalPages,""),e.xp6(2),e.Q6J("disabled",i.currentPage===i.totalPages-1),e.xp6(2),e.Q6J("disabled",i.currentPage===i.totalPages-1))},dependencies:[o.YG,o.Sm,o.fr,o.gu,o.wd,o.sr],styles:["ion-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:12px;font-weight:400;margin:0}"]}),n})();function m(n,s){if(1&n&&(e.TgZ(0,"div")(1,"p",11),e._uU(2,"Prestador:"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",null==t?null:t.nomePrestador,"")}}function f(n,s){if(1&n&&(e.TgZ(0,"div")(1,"p",11),e._uU(2,"Cliente:"),e.qZA(),e._UZ(3,"p"),e.TgZ(4,"p"),e._uU(5),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(null==t?null:t.nomeCliente)}}function _(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ul")(1,"ion-item")(2,"ion-label",8)(3,"div",9),e._uU(4),e.qZA(),e.YNc(5,m,5,1,"div",10),e.YNc(6,f,6,1,"div",10),e.TgZ(7,"p",11),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-col")(12,"ion-label")(13,"ion-button",12),e.NdJ("click",function(){const c=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.onClick(null==c?null:c.id))}),e._uU(14,"+Info"),e.qZA()()()()()}if(2&n){const t=s.$implicit,i=e.oxw();e.xp6(4),e.hij(" Pedido n\xba ",null==t?null:t.id," "),e.xp6(1),e.Q6J("ngIf","CLIENTE"==i.tipoUser),e.xp6(1),e.Q6J("ngIf","PRESTADOR"==i.tipoUser),e.xp6(2),e.hij("Data: ",null==t?null:t.dataServico,""),e.xp6(2),e.Oqu(null==t?null:t.statusOrdemServico)}}const b=[{path:"",component:(()=>{class n{constructor(t,i,r,c){this.apiService=t,this.eventService=i,this.navCtrl=r,this.router=c,this.currentPage=0,this.osCadastradaSubscription=this.eventService.osCadastrada$.subscribe(()=>{this.getPedidosPageAndRefresh(),this.getPedidosByIdAndRefresh()}),this.osCanceladaSubscription=this.eventService.osCancelada$.subscribe(()=>{this.getPedidosPageAndRefresh(),this.getPedidosByIdAndRefresh()}),this.osAceiteSubscription=this.eventService.osAceite$.subscribe(()=>{this.getPedidosPageAndRefresh(),this.getPedidosByIdAndRefresh()}),this.osRecusadaSubscription=this.eventService.osRecusada$.subscribe(()=>{this.getPedidosPageAndRefresh(),this.getPedidosByIdAndRefresh()}),this.osFinalizadaSubscription=this.eventService.osFinalizada$.subscribe(()=>{this.getPedidosPageAndRefresh(),this.getPedidosByIdAndRefresh()})}ngOnInit(){this.tipoUser=this.apiService.getUserRole(),this.getPedidosPageAndRefresh()}changePage(t){this.apiService.addCurrentPage(t),this.currentPage=t,this.getPedidosPageAndRefresh()}ngOnDestroy(){this.osCadastradaSubscription.unsubscribe(),this.osCanceladaSubscription.unsubscribe(),this.osAceiteSubscription.unsubscribe(),this.osRecusadaSubscription.unsubscribe(),this.osFinalizadaSubscription.unsubscribe()}ngOnChanges(){this.getPedidosPageAndRefresh()}getPedidosPageAndRefresh(){this.apiService.getPedidosPage().subscribe(t=>{this.pedidos=t,this.totalPages=this.pedidos.totalPages},t=>{console.error("Erro ao obter dados dos pedidos:",t)})}getPedidosByIdAndRefresh(){this.apiService.getByIdPedido().subscribe(t=>{this.pedido=t},t=>{console.error("Erro ao obter dados dos pedidos:",t)})}onClick(t){this.apiService.addId(t)}onClickInicio(){this.apiService.addCurrentPage(0),this.router.navigateByUrl("/hello")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.s),e.Y36(h.P),e.Y36(o.SH),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-historico-agendamentos"]],features:[e.TTD],decls:16,vars:4,consts:[["slot","start"],[1,"header"],["src","../../../../assets/images/logo_empreget.png"],[4,"ngFor","ngForOf"],["justify-content-center",""],[2,"padding","20px 20px"],["shape","round","fill","outline",1,"custom-button",3,"click"],[3,"currentPage","totalPages","pageChange"],["fill","clear"],[1,"texto_titulo"],[4,"ngIf"],[1,"texto"],["fill","clear","routerLink","/os-view",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e._UZ(2,"ion-menu-button",0),e.TgZ(3,"div",1),e._UZ(4,"img",2),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()()(),e.TgZ(7,"ion-content"),e.YNc(8,_,15,5,"ul",3),e.TgZ(9,"div")(10,"ion-grid")(11,"ion-row",4)(12,"ion-col",5)(13,"ion-button",6),e.NdJ("click",function(){return i.onClickInicio()}),e._uU(14," Ir para Home "),e.qZA()()()()()(),e.TgZ(15,"app-paginacao",7),e.NdJ("pageChange",function(c){return i.changePage(c)}),e.qZA()),2&t&&(e.xp6(6),e.Oqu(i.tipoUser),e.xp6(2),e.Q6J("ngForOf",null==i.pedidos?null:i.pedidos.conteudo),e.xp6(7),e.Q6J("currentPage",i.currentPage)("totalPages",i.totalPages))},dependencies:[d.sg,d.O5,o.YG,o.wI,o.W2,o.jY,o.Gu,o.Ie,o.Q$,o.fG,o.Nd,o.wd,o.sr,o.YI,g.rH,P],styles:['@charset "UTF-8";.header[_ngcontent-%COMP%]{margin:10px 0;display:flex;align-items:flex-end;text-align:right;max-width:50%}ion-content[_ngcontent-%COMP%]{font-family:inter,sans-serif;font-size:17px}ion-img[_ngcontent-%COMP%]{padding-left:30%;width:60%}.Capa[_ngcontent-%COMP%]{justify-content:center;height:100%;display:flex;align-items:center;padding-bottom:5%}.ion-text-wrap[_ngcontent-%COMP%]{text-align:center;margin:20px;font-family:inter,sans-serif;font-style:italic}.ion-header-search[_ngcontent-%COMP%]{margin:20px;text-align:initial}.text1[_ngcontent-%COMP%]{justify-content:center;text-align:center;margin:20px;padding-bottom:3%;height:100%;font-family:inter,sans-serif;font-style:italic}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .coluna-view[_ngcontent-%COMP%]{display:flex;justify-content:end}.coluna-view[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex:0 0 20%}ion-item[_ngcontent-%COMP%]{padding:10px}.texto[_ngcontent-%COMP%]{color:#000}.texto_titulo[_ngcontent-%COMP%]{color:#000;font-weight:700;padding:0,10,10}.custom-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:35px;color:rgba(116,114,114,.8);font-size:medium;--background: #FFFF;--background-hover: #9ce0be;--border-color: #ccc;--border-style: solid;--border-width: 1px;--width: 100%;text-transform:none!important}.custom-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:first-child{margin-right:8px;color:#776f6f;font-size:inherit}']}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(b),g.Bz]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,u.u5,o.Pc,C]}),n})()}}]);