"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7154],{7154:(P,g,n)=>{n.r(g),n.d(g,{AvaliacaoPageModule:()=>f});var u=n(6895),s=n(433),o=n(4556),c=n(6773),v=n(7582),e=n(8256),p=n(6247),h=n(6511);const A=[{path:"",component:(()=>{class i{constructor(a,t,l){this.apiService=a,this.router=t,this.alertController=l,this.avaliacao={estrelas:null,comentario:""}}ngOnInit(){this.valorAvaliacao=0,this.tipoUser=this.apiService.getUserRole(),this.idPedido=this.apiService.readId(),this.token=this.apiService.getToken(),this.getPedidosByIdAndRefresh(),this.getAvaliacoesByIdOSAndRefresh()}mudouAvaliacao(a){this.valorAvaliacao=a}onClickInicio(){this.apiService.addCurrentPage(0),this.router.navigateByUrl("/hello")}onClickAvaliacao(){this.avaliacao.estrelas=this.valorAvaliacao,this.apiService.postAvaliacaoByIdOS(this.avaliacao).subscribe(a=>{this.mostrarAlerta("Avalia\xe7\xe3o conclu\xedda!! Obrigado!!!")},a=>{this.mostrarAlerta("Erro! Revise os dados")})}getPedidosByIdAndRefresh(){this.apiService.getByIdPedido().subscribe(a=>{this.pedido=a},a=>{console.error("Erro ao obter dados dos pedidos:",a)})}getPedidosPageAndRefresh(){this.apiService.getPedidosPage().subscribe(a=>{this.pedidos=a},a=>{console.error("Erro ao obter dados dos pedidos:",a)})}getAvaliacoesByIdOSAndRefresh(){this.apiService.getAvaliacoesByIdOS().subscribe(a=>{this.avaliacoes=a},a=>{console.error("Erro ao obter dados dos avaliacoes:",a)})}mostrarAlerta(a){return(0,v.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Alerta",message:a,buttons:["OK"]})).present()})}}return i.\u0275fac=function(a){return new(a||i)(e.Y36(p.s),e.Y36(c.F0),e.Y36(o.Br))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-avaliacao"]],decls:45,vars:5,consts:[["slot","start","color","primary"],["src","../../../../assets/images/Logo-transparente.png"],[3,"fullscreen"],["collapse","condense"],["size","large"],["align","center",2,"padding-top","20px","font-size","large"],[3,"ratingChange"],["type","text","placeholder","Escreva um coment\xe1rio",3,"ngModel","ngModelChange"],["shape","round","color","primary",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e._UZ(2,"ion-menu-button",0)(3,"ion-img",1),e.qZA()(),e.TgZ(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),e._uU(8,"avaliacao"),e.qZA()()(),e._UZ(9,"br")(10,"br"),e.TgZ(11,"ion-card")(12,"div",5),e._uU(13," Ordem de Servi\xe7o n"),e.TgZ(14,"sup"),e._uU(15,"o"),e.qZA(),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",5),e._uU(19," Avalia\xe7\xe3o "),e.qZA(),e.TgZ(20,"ion-card-content")(21,"ion-list")(22,"ion-grid")(23,"ion-row")(24,"ion-col")(25,"div"),e._uU(26),e.qZA()()(),e.TgZ(27,"ion-row")(28,"ion-col")(29,"app-star-rating",6),e.NdJ("ratingChange",function(d){return t.mudouAvaliacao(d)}),e.qZA()(),e.TgZ(30,"ion-col")(31,"div"),e._uU(32),e.qZA()()(),e._UZ(33,"br")(34,"br"),e.TgZ(35,"ion-row")(36,"ion-col")(37,"ion-item")(38,"ion-label"),e._uU(39,"Coment\xe1rio:"),e.qZA(),e.TgZ(40,"ion-input",7),e.NdJ("ngModelChange",function(d){return t.avaliacao.comentario=d}),e.qZA()()()()()()()(),e.TgZ(41,"ion-button",8),e.NdJ("click",function(){return t.onClickAvaliacao()}),e._uU(42," AVALIAR "),e.qZA(),e.TgZ(43,"ion-button",8),e.NdJ("click",function(){return t.onClickInicio()}),e._uU(44," Ir para Home "),e.qZA()()),2&a&&(e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(12),e.hij(" ",t.idPedido," "),e.xp6(10),e.hij(" Prestador: ",null==t.pedido?null:t.pedido.nomePrestador,""),e.xp6(6),e.hij(" Nota: ",t.valorAvaliacao," "),e.xp6(8),e.Q6J("ngModel",t.avaliacao.comentario))},dependencies:[s.JJ,s.On,o.YG,o.PM,o.FN,o.wI,o.W2,o.jY,o.Gu,o.Xz,o.pK,o.Ie,o.Q$,o.q_,o.fG,o.Nd,o.wd,o.sr,o.j9,h.T],styles:["ion-content[_ngcontent-%COMP%]{font-family:inter,sans-serif;font-size:17px}ion-img[_ngcontent-%COMP%]{padding-left:30%;width:60%}.Capa[_ngcontent-%COMP%]{justify-content:center;height:100%;display:flex;align-items:center;padding-bottom:5%}.ion-text-wrap[_ngcontent-%COMP%]{text-align:center;margin:20px;font-family:inter,sans-serif;font-style:italic}.ion-header-search[_ngcontent-%COMP%]{margin:20px;text-align:initial}.text1[_ngcontent-%COMP%]{justify-content:center;text-align:center;margin:20px;padding-bottom:3%;height:100%;font-family:inter,sans-serif;font-style:italic}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .coluna-view[_ngcontent-%COMP%]{display:flex;justify-content:end}"]}),i})()}];let m=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(A),c.Bz]}),i})(),f=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,s.u5,o.Pc,m]}),i})()}}]);